source_path: builder/vmware/common/export_config.go
name: ExportConfig
required: []
not_required:
- name: format
  type: string
  docs: |
    Either "ovf", "ova" or "vmx", this specifies the output
    format of the exported virtual machine. This defaults to "ovf".
    Before using this option, you need to install ovftool. This option
    currently only works when option remote_type is set to "esx5".
    Since ovftool is only capable of password based authentication
    remote_password must be set when exporting the VM.
- name: ovftool_options
  type: '&{%!s(token.Pos=1108) <nil> string}'
  docs: |
    Extra options to pass to ovftool
    during export. Each item in the array is a new argument. The options
    --noSSLVerify, --skipManifestCheck, and --targetType are reserved,
    and should not be passed to this argument.
    Currently, exporting the build VM (with ovftool) is only supported when
    building on ESXi e.g. when remote_type is set to esx5. See the
    Building on a Remote vSphere
    Hypervisor
    section below for more info.
- name: skip_export
  type: bool
  docs: |
    Defaults to false. When enabled, Packer will
    not export the VM. Useful if the build output is not the resultant
    image, but created inside the VM.
    Currently, exporting the build VM is only supported when building on
    ESXi e.g. when remote_type is set to esx5. See the Building on a
    Remote vSphere
    Hypervisor
    section below for more info.
- name: keep_registered
  type: bool
  docs: |
    Set this to true if you would like to keep
    the VM registered with the remote ESXi server. If you do not need to export
    the vm, then also set skip_export: true in order to avoid an unnecessary
    step of using ovftool to export the vm. Defaults to false.
- name: skip_compaction
  type: bool
  docs: |
    VMware-created disks are defragmented and
    compacted at the end of the build process using vmware-vdiskmanager or
    vmkfstools in ESXi. In certain rare cases, this might actually end up
    making the resulting disks slightly larger. If you find this to be the case,
    you can disable compaction using this configuration value. Defaults to
    false. Default to true for ESXi when disk_type_id is not explicitly
    defined and false otherwise.
